<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <link href="bootstrap.css" rel="stylesheet">
  <link href="sb-admin.css" rel="stylesheet">
  <link href="mETABOX.css" rel="stylesheet">
  <script type="text/javascript" src="jquery-2.2.3.min.js"></script>
  <script type="text/javascript" src="opencpu-0.5.js"></script>
  <title>MetaMapp 2016</title>

 <style>
 #ajaxspinner {
    display: none;
}
</style> 
 
</head>

<body>

<div id="wrapper">
    <!-- Navigation-->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div id="includedNav" ></div>
      <div class="navbar-header">
    <img src="logo.png" width="223"/>
</div>
<div class="collapse navbar-collapse">
<ul class="nav navbar-nav side-nav">
        <li><h6 class="badge bg-orange">STATISTICAL ANALYSIS</h6></li>
        <li><a href="stat_analysis.html"><i class="glyphicon glyphicon-stats"></i> Statistical Analysis</a></li>
    <!--     <li><a href="#"><i class="fa fa-file-text-o"></i> Statistical Analysis Report<i class="fa fa-angle-left" style="float:right"></i></a></li>-->
        <li><h6 class="badge bg-blue">NETWORK CONSTRUCTION</h6></li>
        <li>
            <a ha href="javascript:;" data-toggle="collapse" data-target="#bionw"><i class="fa fa-tree"></i> BioNetwork <i class="fa fa-fw fa-caret-down"></i></a>
            <ul id="bionw" class="collapse">
                <li><a href="simplenetwork.html"><i class="fa fa-angle-double-right"></i> SimpleNetwork</a></li>
                <li><a href="hetnetwork.html"><i class="fa fa-angle-double-right"></i> HeterogeneousNetwork</a></li>
            </ul>
        </li>
        <li>
            <a href="javascript:;" data-toggle="collapse" data-target="#correl"><i class="fa fa-line-chart"></i> Correlations <i class="fa fa-fw fa-caret-down"></i></a>
            <ul id="correl" class="collapse">
                <li><a href="corr.html"><i class="fa fa-angle-double-right"></i> Correlation</a></li>
                <li><a href="parcorr.html"><i class="fa fa-angle-double-right"></i> PartialCorrelation</a></li>
            </ul>
        </li>
        <li><a href="similarity.html"><i class="fa fa-flask"></i> Similarity</a></li>
        <li><h6 class="badge bg-green">FUNCTIONAL ANALYSIS</h6></li>
        <li><a href="enrichanalysis.html"><i class="fa fa-pie-chart"></i> Enrichment</a></li>
        <li><a href="overrepanalysis.html"><i class="fa fa-users"></i> Overrepresentation</a></li>
        <li><a href="wordcloud.html"><i class="fa fa-cloud"></i> WordCloud</a></li>
        <li><h6 class="badge">MISCELLANEOUS</h6></li>
        <li><a href="convertid.html"><i class="fa fa-arrows-h"></i> ConvertID</a></li>
        <li><a href="blank-page.html"><i class="fa fa-graduation-cap"></i> Tutorial</a></li>
        <li><a href="index.html"><i class="fa fa-info"></i> About</a></li>
        <!--li>//can't keep db url!!
            <a href="javascript:;" data-toggle="collapse" data-target="#pres"><i class="fa fa-cogs"></i> Pre-setting <i class="fa fa-fw fa-caret-down"></i></a>
            <ul id="pres" class="collapse">
                <li><a href="setgraphdb.html"><i class="fa fa-angle-double-right"></i> SetDatabase</a></li>
            </ul>
        </li-->
    </ul>
</div>
    </nav>
    <div id="content-wrapper">



 
    <div id="page-wrapper">
      <div class="container-fluid">
        <!-- Page Heading -->
        <div class="row">
          <div class="col-lg-12">
          </div>
        </div>
        <!-- /.row -->
        <!-- Main content -->
        <div class="row">
          <div class="col-lg-12">
            <div class="panel panel-primary">
              <div class="panel-heading">
                <h3 class="panel-title"><a data-toggle="collapse" data-target="#args" href="#">Create MetaMapp Mapping Files</a></h3>
              </div>
              <div id="args" class="panel-body collapse in">
                <form role="form">                  
                  <!-- /.row -->
                  <button id="computeChem" type="button" class="btn btn-primary">Compute</button>
				  <button id="downloadChemBtn" type="button" class="btn btn-default" disabled> <i class="fa fa-download" ></i> Download MetaMapp Network</button>
				  <button id="downloadAttrBtn" type="button" class="btn btn-default" disabled><i class="fa fa-download" ></i> Download Node Attribute file</button>
				  <img src="spinner.gif" id="ajaxspinner" />
                </form>
              </div>
            </div>		
          </div>
		  
		  
		<div class="col-lg-12">
            <div class="panel panel-success">
              <div class="panel-heading">
                <h3 class="panel-title"><a data-toggle="collapse" data-target="#args" href="#">Metabolic Module Detection</a></h3>
              </div>
              <div id="args" class="panel-body collapse in">
                <form role="form">                  
                  <!-- /.row -->
                  <button id="computeModule" type="button" class="btn btn-primary">Compute</button>
				  <img src="spinner.gif" id="ajaxspinner" />
                </form>
              </div>
            </div>		
        </div>
		  
		  
		  
		<div class="col-lg-12">
            <div class="panel panel-danger">
              <div class="panel-heading">
                <h3 class="panel-title"><a data-toggle="collapse" data-target="#args" href="#">Text Mining </a></h3>
              </div>
              <div id="args" class="panel-body collapse in">
                <form role="form">                  
                  <!-- /.row -->
                  <button id="computeTextMining" type="button" class="btn btn-primary">Compute</button>
				  <img src="spinner.gif" id="ajaxspinner" />
                </form>
              </div>
            </div>		
        </div>
		  
		<div class="col-lg-12">
            <div class="panel panel-warning">
              <div class="panel-heading">
                <h3 class="panel-title"><a data-toggle="collapse" data-target="#args" href="#">Draw Pathway Maps </a></h3>
              </div>
              <div id="args" class="panel-body collapse in">
                <form role="form">                  
                  <!-- /.row -->
                  <button id="computePathwayMap" type="button" class="btn btn-primary">Compute</button>
				  <img src="spinner.gif" id="ajaxspinner" />
                </form>
              </div>
            </div>		
        </div>
		  
		  
		  
		  
		  
		  
		  
        </div>    


		<div class="row"> <!-- Mass Spectral Simialrity Networks -->
          <div class="col-lg-12">
            <div class="panel panel-primary">
              <div class="panel-heading">
                <h3 class="panel-title"><a data-toggle="collapse" data-target="#args" href="#">Instructions and citations</a></h3>
            </div>
              <div id="args" class="panel-body collapse in">
				<p>Files downloaded from here need to be imported into Cytoscape for visualization. For more details - <a href="meta-mapp-instructions.html">Visit this page<a> </p> 			  
                <form role="form">
                  <div class="form-group">                    
					<p>Barupal, Dinesh K., Pradeep K. Haldiya, Gert Wohlgemuth, Tobias Kind, Shanker L. Kothari, Kent E. Pinkerton, and Oliver Fiehn. "MetaMapp: mapping and visualizing metabolomic data by integrating information from biochemical pathways and chemical and mass spectral similarity." BMC bioinformatics 13, no. 1 (2012): 99.</p>
					<p>Hartman, A. L., Lough, D. M., Barupal, D. K., Fiehn, O., Fishbein, T., Zasloff, M., & Eisen, J. A. (2009). Human gut microbiome adopts an alternative state following small bowel transplantation. Proceedings of the National Academy of Sciences, 106(40), 17187-17192.</p>
					<p>Grapov, Dmitry, Kwanjeera Wanichthanarak, and Oliver Fiehn. "MetaMapR: pathway independent metabolomic network analysis incorporating unknowns." Bioinformatics (2015): btv194.</p>					
                  </div>
                  
                  <!-- /.row -->

                </form>
              </div>
            </div>		
          </div>
        </div>
		
		


		
      </div>
      <!-- /.container-fluid -->
    </div>
    <!-- /#page-wrapper -->
  </div>
  <!-- /#wrapper -->
</body>
 <script>
    $(function(){
	// Chemical Similarity Download
	$("#computeChem").click(function(){
	  $('#ajaxspinner').show();
	  $("#downloadChemBtn").empty();
	  $("#downloadAttrBtn").empty();
	  var rsession = window.location.href.split("?rsess=")[1];
	  
	  var req = ocpu.call("getMetaMapp",{rsess:rsession,pvalind:1}, function(session) {//calls R function: 
	    console.log(session);
		$("#downloadChemBtn").removeAttr('disabled');
		$("#downloadAttrBtn").removeAttr('disabled');
		var sifurl = session.loc+"files/chemsim_krp_07.sif";
		var nodeurl = session.loc+"files/node_attributes_chemsim_krp_07.tsv";
       	$("#downloadChemBtn").append('<a href="'+sifurl+'">Download Cytoscape SIF file</a>')
		$("#downloadAttrBtn").append('<a href="'+nodeurl+'">Download Node Attribute file</a>')
		$('#ajaxspinner').hide();
	  }).fail(function() {alert("Error: " + req.responseText)});//ocpu.call
	})
			
	})	
	
	
	
  </script>



</html>